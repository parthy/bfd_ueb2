<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Unbenanntes Dokument</title>
<link rel="stylesheet" type="text/css" href="opal.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js" type="text/javascript"></script>
</head>

<body>

<div class="login">
    <h3 role="heading" lang="en" xml:lang="en">Login</h3>
    <div id="login" role="application">
        <ul class="tabs" role="tablist">
            <li id="hochschul-tab" aria-controls="hochschul-login" class="selected" role="tab" title="Hochschul-Login">Tab 1</li>
            <li id="opal-tab" aria-controls="opal-login" role="tab" title="OPAL-Login">Tab 2</li>
        </ul>            
        <div class="panels" aria-live="assertive"> 
            <div id="hochschul-login" role="tabpanel" aria-labelledby="hochschul-tab">
                <p>Inhalt Tab 1</p>
            </div>
            <div id="opal-login" role="tabpanel" aria-labelledby="opal-tab">
                <p>Inhalt Tab 2</p>
            </div> 
        </div>
    </div>
    <script type="text/javascript">
    <!--
	
		// Einblenden von Elementen, die nur mit aktiviertem JavaScript sinnvoll und notwendig sind	
		$('#login').show();
		$('.jshidden').show();
		
		// Hinzufügen des Hilfetextes für den Screenreader
		$('<p class="offscreen">Wenn ein Tab ausgewählt ist, können Sie die Pfeiltasten und Enter benutzen, um den Login zu wechseln.</p>').insertAfter('.tabs');
		
		// nur ausgewählter Tab in Taborder des Browsers, um schneller über Tab-Widget tabben zu können
		$('.tabs li').attr('tabindex', '-1');
		$('.tabs li.selected').attr('tabindex', '0');
		
		// Ausblenden der Tabpanels
		$('.panels div').hide();
		$('.panels div').attr('aria-hidden', 'true');
		
		//Einblenden des zum ausgewählten Tab gehörenden Panels
		$('#'+$('.tabs li.selected').attr('aria-controls')).show();
		$('#'+$('.tabs li.selected').attr('aria-controls')).attr('aria-hidden', 'false');
		
		// Tastatur-Navigation zwischen den Tab-Reitern				
		$('.tabs li').keydown(function(event) {
			switch(event.keyCode){
				case 37	:	$(this).prev().focus();
							break;
							
				case 39	:	$(this).next().focus();
							break;
				
				case 32 :	alert('Leertaste');
							$(this).trigger('click');
							break;
							
				case 13:	alert('Enter');
							$(this).trigger('click');
							break;
			}
		});
		
		// Klick auf Tab		
		$('.tabs li').click(function(){
			// Hervorhebung des Tabs
			$('.tabs li').removeClass('selected');
			$(this).addClass('selected');
			
			// Tabindex aktualisieren
			$('.tabs li').attr('tabindex', '-1');
			$(this).attr('tabindex', '0');
			
			// Panel anzeigen
			$('.panels div').attr('aria-hidden', 'true');
			$('#'+$(this).attr('aria-controls')).attr('aria-hidden', 'false');
			$('.panels div').hide();
			$('#'+$(this).attr('aria-controls')).show();
			
			// Vertauschen der Reihenfolge, damit der Screenreader auch liest
			$($('.panels div').not($('#'+$(this).attr('aria-controls')))).before($('#'+$(this).attr('aria-controls')));
		});
				
	// -->
    </script>
</div>

</body>
</html>
